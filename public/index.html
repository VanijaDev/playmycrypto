<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>OXO Games</title>
  <link rel="shortcut icon" href="/favicon.png" type="image/png">
  <script src="http://www.geoplugin.net/javascript.gp" type="text/javascript"></script>
</head>

<body>
<div id="app"></div>
<!-- built files will be auto injected -->

<script src="./jquery.min.js"></script>
<script>
  function showAppDisabledView(_show) {
    if (_show) {
      $("#app-disabled")[0].classList.add("app-disabled");
      $("#app-disabled")[0].classList.remove("hidden");
    } else {
      $("#app-disabled")[0].classList.remove("app-disabled");
      $("#app-disabled")[0].classList.add("hidden");
    }
  }

  function showTopBannerMessage(textBefore, hash, autohide) {
    var topBannerMessage = textBefore;
    if (hash && hash.length > 0) {
      var linkStr = "https://etherscan.io/tx/" + hash;
      topBannerMessage += '<a href=' + linkStr + ' target=blank>' + hash + '</a>';
    }
    $('.top-message').html(topBannerMessage).addClass('visible');
    if (autohide) {
      setTimeout(function () {
        $('.top-message').html('').removeClass('visible');
      }, 3000);
    }
  }

  function hideTopBannerMessage() {
    $('.top-message').html('').removeClass('visible');
  }

  function showGameBlock(id) {
    $('.game-block').addClass('hidden');
    $('#' + id).removeClass('hidden');
  }

  function switchBeneficiary(blockId) {
    $('.beneficiary-block').addClass('hidden');
    $('#' + blockId).removeClass('hidden');
  }

  function showActionRequired(gameButtonId) {
    //  playingCFCreator, playingCFOpponent
    //  playingRPSCreator, playingRPSOpponent
    $('#profileNotification').removeClass('hidden');
    $('#' + gameButtonId).append('<img src="/img/notification.svg" class="notification-icon">');
  }

  function hideActionRequired(gameButtonId) {
    //  playingCFCreator, playingCFOpponent
    //  playingRPSCreator, playingRPSOpponent
    $('#' + gameButtonId).find('.notification-icon').remove();
    if (!$('.notification-icon').length) {
      $('#profileNotification').addClass('hidden');
    }
  }

  //  spinner vvv
  function showSpinner (_viewType) {
    let spinnerView = this.spinnerViewForType(_viewType);

    if (!$("#" + spinnerView)[0].classList.contains('loader')) {
      $("#" + spinnerView).addClass('loader').append('<div class="lds-ring"><div></div><div></div><div></div><div></div></div>');
    }
  }

  function hideSpinner (_viewType) {
    let spinnerView = this.spinnerViewForType(_viewType);

    if ($("#" + spinnerView)[0].classList.contains('loader')) {
      $("#" + spinnerView).removeClass('loader').find('.lds-ring').remove()
    }
  }

  function spinnerViewForType (_viewType) {
    let view = null;

    switch (_viewType) {
      case Types.SpinnerView.gameView:
        view = "gameBlock";
        break;

      case Types.SpinnerView.availableGames:
        view = "AvailableGames";
        break;

      case Types.SpinnerView.topGames:
        view = "TopGames";
        break;

      case Types.SpinnerView.raffle:
        view = "raffleBlock";
        break;

      case Types.SpinnerView.beneficiary:
        view = "beneficiaryBlock";
        break;

      default:
        throw("Error in spinnerViewForType");
    }

    return view;
  }
  //  spinner ^^^
</script>

</body>

</html>